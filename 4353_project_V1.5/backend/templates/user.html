{% extends "base.html" %}
{% block title %}{% endblock %}
{% block content %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            {% for msg in messages%} 
                <p>{{msg}}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}


<!--FINAL NEED TO COMMIT ADDED RECENTLY--> 

    <h1>Edit Profile</h1>
    <form method="POST" action="{{ url_for('edit_profile') }}">
        <label for="new_username">New Username:</label>
        <input type="text" id="new_username" name="new_username" value="{{ user.username }}" required>
        <br>
        <label for="new_email">New Email:</label>
        <input type="email" id="new_email" name="new_email" value="{{ user.email }}" required>
        <br>
        <button type="submit">Update Profile</button>
    </form>

<form action = "#" method = "POST">
    <input type = "email" name = "email" placeholder="Enter Email" value = "{{email if email}}"/>
    <input type = "submit" value = "submit"/>
</form>

<!-- Option 1: Form with submit button ADDED--> 
<form action="{{ url_for('delete') }}" method="POST">
    <input type="submit" value="Delete Account" onclick="return confirm('Are you sure you want to delete your account? This action cannot be undone.');">
</form>

<!-- Option 2: Anchor tag with onclick confirmation message ADDED
<a href="{{ url_for('delete') }}" onclick="return confirm('Are you sure you want to delete your account? This action cannot be undone.');">Delete My Account</a>
-->
<a href="{{ url_for('logout') }}">Logout</a>

{% endblock %}
